function cookieIsset(a){var c=document.cookie.split(";");for(var b in c){if(c[b].indexOf(a+"=")==0){return true}}return false}function setCookie(b,d,c){var a=new Date();a.setTime(a.getTime()+(c*1000));document.cookie=b+"="+escape(d)+";expires="+a.toGMTString()+";path=/"}jQuery(document).ready(function(){jQuery(".sp_popup_overlay").on("click",function(a){a.preventDefault()});jQuery(".sp_popup_overlay .sp_popup_submit").on("click",function(a){a.preventDefault();a.stopPropagation();jQuery(this).parent().submit()});jQuery(".sp_popup_overlay .sp_popup_continue").on("click",function(a){a.preventDefault()})});function submitSpPopup(c,b,d,g){var l=c.parentNode.parentNode;var i=l.getElementsByClassName("sp_popup_cta_submit_text");var k=l.getElementsByClassName("sp_popup_error_message");var e=l.getElementsByClassName("sp_popup_LoadGif");var h=l.getElementsByClassName("sp_popup_succes_message");var f=l.getElementsByClassName("sp_popup_continue");var j=l.getElementsByClassName("sp_popup_form_content");var a=l.getElementsByClassName("sp_popup_prog_header");jQuery(i).hide();jQuery(k).hide();jQuery(e).show();jQuery.ajax({type:"POST",url:sp_ajaxurl,data:jQuery(c).serialize(),success:function(n){jQuery(e).hide();if(n.status){jQuery(k).hide();jQuery(j).hide();jQuery(a).hide();jQuery(h).html(b);jQuery(h).show();jQuery(f).show()}else{if(n.message=="invalidEmail"){var m=g}else{var m=d}jQuery(i).show();jQuery(k).html(m);jQuery(k).show()}},error:function(){jQuery(e).hide();jQuery(i).show();jQuery(k).html(d);jQuery(k).show()}});return false}function sp_remove_popup(c,a,b){if(a){jQuery("#"+c).fadeOut();jQuery("#"+c).remove()}else{if(b=="ExitIntent"){sp_ei_remove(c)}else{jQuery("#"+c).fadeOut()}}return false}function sp_continue_popup(c,a,b){if(a){jQuery("#"+c).fadeOut();jQuery("#"+c).remove()}else{if(b=="ExitIntent"){sp_ei_remove(c)}else{jQuery("#"+c).fadeOut()}}setTimeout(function(){jQuery("#"+c).remove()},320);return false}function sp_show_popup(a){jQuery("#"+a).fadeIn()}function validLeadGeneratorRequest(c,b){var a=true;jQuery("#"+c+" .spokal-required").each(function(d,e){if(jQuery(this).hasClass("email")){jQuery(this).parent().find("label").remove();jQuery(this).parent().find("br").remove();var f=jQuery(this).val();if(f.length<=0){a=false;jQuery(this).parent().append('<br><label for="'+jQuery(this).attr("id")+'" generated="true" class="spokal-error">'+b+"</label>");return false}if(!isValidEmail(f)){a=false;jQuery(this).parent().append('<br><label for="'+jQuery(this).attr("id")+'" generated="true" class="spokal-error">'+b+"</label>");return false}}});return a}function validWidgetLeadGeneratorRequest(c,b){var a=true;jQuery("#"+c+" .spokal-required").each(function(d,e){if(jQuery(this).hasClass("email")){var f=jQuery(this).val();if(f.length<=0){a=false;return false}if(!isValidEmail(f)){a=false;return false}}});return a}function isValidEmail(b){var a=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return a.test(b)}function base64_encode(j){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var d,c,b,n,m,l,k,o,h=0,p=0,g="",f=[];if(!j){return j}do{d=j.charCodeAt(h++);c=j.charCodeAt(h++);b=j.charCodeAt(h++);o=d<<16|c<<8|b;n=o>>18&63;m=o>>12&63;l=o>>6&63;k=o&63;f[p++]=e.charAt(n)+e.charAt(m)+e.charAt(l)+e.charAt(k)}while(h<j.length);g=f.join("");var a=j.length%3;return(a?g.slice(0,a-3):g)+"===".slice(a||3)}function base64_decode(h){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var c,b,a,m,l,k,j,n,g=0,o=0,e="",f=[];if(!h){return h}h+="";do{m=d.indexOf(h.charAt(g++));l=d.indexOf(h.charAt(g++));k=d.indexOf(h.charAt(g++));j=d.indexOf(h.charAt(g++));n=m<<18|l<<12|k<<6|j;c=n>>16&255;b=n>>8&255;a=n&255;if(k==64){f[o++]=String.fromCharCode(c)}else{if(j==64){f[o++]=String.fromCharCode(c,b)}else{f[o++]=String.fromCharCode(c,b,a)}}}while(g<h.length);e=f.join("");return e.replace(/\0+$/,"")}function getCookie(a){var b="; "+document.cookie;var c=b.split("; "+a+"=");if(c.length==2){return c.pop().split(";").shift()}else{return""}}var keywords=new Array();var linked_keywords=new Object();jQuery(document).ready(function(){var b=keywords.length;if(keywords.length>0){for(var a=0;a<b;a++){if(Object.sp_size(linked_keywords)>=5){break}jQuery('div[data-spokal="postcontainer"] p').each(function(){var c=null;var d=null;c=keywords[a][0];d=keywords[a][1];traverseChildNodes(this,c,d)})}}});function traverseChildNodes(g,d,f){var e;if(g.nodeType===1){if(g=g.firstChild){do{e=g.nextSibling;traverseChildNodes(g,d,f)}while(g=e)}}else{if(g.nodeType===3&&!isTextNodeAnchor(g)&&!is_forbiden_element(g)&&!is_spokal_image(g)){var b=new RegExp("\\b"+d+"\\b","gi");if(b.test(g.data)&&!linked_keywords.hasOwnProperty(d)){wrapMatchesInNode(g,d,f)}else{if(d.search("'")){var a=new RegExp("\\b'\\b","gi");var h=document.createElement("div");h.innerHTML=d.replace(a,"&rsquo;");var c=h.innerHTML;a=new RegExp("\\b"+c+"\\b","gi");if(a.test(g.data)&&!linked_keywords.hasOwnProperty(c)){wrapMatchesInNode(g,c,f)}}}}}}function isTextNodeAnchor(a){while(a){if(a.tagName=="A"){return true}else{a=a.parentNode}}return false}function is_forbiden_element(a){if(a.parentNode){var b=a.parentNode.tagName;if(b=="DIV"||b=="P"||b=="SPAN"){return false}return true}return false}function is_spokal_image(b){var a=new RegExp("\\bspcaption\\b","gi");var c=new RegExp("\\bsp_skip_autolink\\b","gi");while(b){if(a.test(b.className)||c.test(b.className)){return true}else{b=b.parentNode}}return false}function wrapMatchesInNode(e,c,d){var b=document.createElement("div");var a=new RegExp("\\b"+c+"\\b","i");b.innerHTML=e.data.replace(a,'<a href="'+d+'">$&</a>');while(b.firstChild){if(e.parentNode===null){break}linked_keywords[c]="true";e.parentNode.insertBefore(b.firstChild,e)}if(e.parentNode!==null){e.parentNode.removeChild(e)}}Object.sp_size=function(c){var b=0,a;for(a in c){if(c.hasOwnProperty(a)){b++}}return b};var scbx_ajax_prog=false;if(typeof spSCBX==="undefined"){var spSCBX=new Object()}jQuery(document).ready(function(){jQuery("#scrollBoxContinue").click(function(){jQuery("#spokalScrollBoxShowOnScrole").slideUp(300);if(document.cookie.indexOf("sp_scbx_shown")<0){var a=parseInt(spSCBX.timeShowingMeasure)*parseInt(spSCBX.timeShowing)*60;setCookie("sp_scbx_shown","true",a)}setTimeout(function(){jQuery("#spokalScrollBoxShowOnScrole").remove()},320);return false});jQuery("#closeScrollBox").click(function(){jQuery("#spokalScrollBoxShowOnScrole").slideUp(300);if(document.cookie.indexOf("sp_scbx_shown")<0){var a=parseInt(spSCBX.timeShowingMeasure)*parseInt(spSCBX.timeShowing)*60;setCookie("sp_scbx_shown","true",a)}})});jQuery(document).ready(function(){jQuery("#spokalLeadsScrollBox").submit(function(){jQuery("#spokalLeadsScrollBox .scrollBoxSubmit").hide();jQuery("#ScrollBoxErrorMessage").hide();jQuery("#scrollBoxLoadGif").show();if(!scbx_ajax_prog){scbx_ajax_prog=true;jQuery.ajax({type:"POST",url:sp_ajaxurl,data:jQuery("#spokalLeadsScrollBox").serialize(),success:function(b){if(b.status){jQuery("#scrollBoxLoadGif").hide();jQuery("#ScrollBoxErrorMessage").hide();jQuery("#spokalScrollBoxFormContent").hide();jQuery("#scrollBoxSuccesMessage").html(spSCBX.successmsg);jQuery("#scrollBoxSuccesMessage").show();jQuery("#scrollBoxContinue").show()}else{if(b.message=="invalidEmail"){var a=spSCBX.invalidEmailMsg}else{var a=spSCBX.failmsg}jQuery("#scrollBoxLoadGif").hide();jQuery("#spokalLeadsScrollBox .scrollBoxSubmit").show();jQuery("#ScrollBoxErrorMessage").html(a);jQuery("#ScrollBoxErrorMessage").show()}scbx_ajax_prog=false},error:function(){jQuery("#scrollBoxLoadGif").hide();jQuery("#spokalLeadsScrollBox .scrollBoxSubmit").show();jQuery("#ScrollBoxErrorMessage").html(spSCBX.failmsg);jQuery("#ScrollBoxErrorMessage").show();scbx_ajax_prog=false}})}return false})});jQuery(document).ready(function(a){if(!jQuery.isEmptyObject(spSCBX)){a.fn.scrollStopped=function(b){a(this).scroll(function(){var c=this,d=a(c);if(d.data("scrollTimeout")){clearTimeout(d.data("scrollTimeout"))}d.data("scrollTimeout",setTimeout(b,250,c))})};jQuery(window).scrollStopped(function(){var f=jQuery(document).height();var e=jQuery(window).height();var d=jQuery(this).scrollTop();if(f===e){var c=f}else{var c=f-e}var b=parseFloat(d/c*100);if(b>parseFloat(spSCBX.showingPercent)){if(document.cookie.indexOf("sp_scbx_shown")<0){jQuery("#spokalScrollBoxShowOnScrole").slideDown(300)}}})}});if(typeof spSMBR==="undefined"){var spSMBR=new Object()}var sb_ajax_prog=false;jQuery(document).ready(function(){if(jQuery(window).width()>700){if(document.getElementById("spokalSmartbarEmail")){var b=jQuery("<span/>").html(jQuery("#spokalSmartbarEmail").attr("placeholder")).css({position:"absolute",left:-9999,top:-9999}).appendTo("body");var a=b.width();b.remove();jQuery("#spokalSmartbarEmail").css("min-width",a+10+"px")}if(document.getElementById("spokalSmartbarName")){var d=jQuery("<span/>").html(jQuery("#spokalSmartbarName").attr("placeholder")).css({position:"absolute",left:-9999,top:-9999}).appendTo("body");var c=d.width();d.remove();jQuery("#spokalSmartbarName").css("min-width",c+20+"px")}}});jQuery(document).ready(function(){jQuery(".spokalSmartBar button").focus(function(){this.blur()})});jQuery(document).ready(function(){jQuery("#smartBarContinue").click(function(){jQuery("#spokalSmartBarShowOnScrole").slideUp(300);if(document.cookie.indexOf("sp_smbr_shown")<0){var a=parseInt(spSMBR.timeShowingMeasure)*parseInt(spSMBR.timeShowing)*60;setCookie("sp_smbr_shown","true",a)}setTimeout(function(){jQuery("#spokalSmartBarShowOnScrole").remove()},320);return false});jQuery("#closeSmartBar").click(function(){jQuery("#spokalSmartBarShowOnScrole").slideUp(300);if(document.cookie.indexOf("sp_smbr_shown")<0){var a=parseInt(spSMBR.timeShowingMeasure)*parseInt(spSMBR.timeShowing)*60;setCookie("sp_smbr_shown","true",a)}})});jQuery(document).ready(function(){jQuery("#spokalLeadsSmartBar").submit(function(){jQuery("#SmartBarErrorMessage").hide();jQuery("#smartBarLoadGif").show();if(!sb_ajax_prog){sb_ajax_prog=true;jQuery.ajax({type:"POST",url:sp_ajaxurl,data:jQuery("#spokalLeadsSmartBar").serialize(),success:function(b){jQuery("#smartBarLoadGif").hide();if(b.status){jQuery("#SmartBarErrorMessage").hide();jQuery("#smartBarFormContent").hide();jQuery("#smartBarSuccesMessage").html(spSMBR.successmsg);jQuery("#smartBarSuccesMessage").css("display","inline-block");jQuery("#smartBarContinue").show()}else{if(b.message=="invalidEmail"){var a=spSMBR.invalidEmailMsg}else{var a=spSMBR.failmsg}jQuery("#SmartBarErrorMessage").html(a);jQuery("#SmartBarErrorMessage").show()}sb_ajax_prog=false},error:function(){jQuery("#SmartBarErrorMessage").html(spSMBR.failmsg);jQuery("#SmartBarErrorMessage").show();sb_ajax_prog=false}})}return false})});jQuery(document).ready(function(b){if(!jQuery.isEmptyObject(spSMBR)){if(spSMBR.behavior==="scroll"){var a=0;jQuery(window).scroll(function(d){var c=b(this).scrollTop();if(c<=a){if(document.cookie.indexOf("sp_smbr_shown")<0){jQuery("#spokalSmartBarShowOnScrole").slideDown(300)}}a=c})}}});if(typeof spEI==="undefined"){var spEI=new Object()}var spei_ajax_prog=false;jQuery(document).ready(function(a){if(!jQuery.isEmptyObject(spEI)){spEI.previousY=-1;a(document).mousemove(function(b){if(b.clientY<spEI.previousY){var c=b.clientY+(b.clientY-spEI.previousY);if(c<=5){spEI.checking=true;setTimeout(function(){show_sp_EI(spEI)},1)}}spEI.previousY=b.clientY})}});function show_sp_EI(a){if(a.checking&&(document.cookie.indexOf("sp_ei_shown")<0)){jQuery("#sp_popup_overlay-"+a.ei_popup).fadeIn()}a.checking=false}function sp_ei_remove(b){jQuery("#"+b).fadeOut();if(document.cookie.indexOf("sp_ei_shown")<0){var a=parseInt(spEI.timeShowingMeasure)*parseInt(spEI.timeShowing)*60;setCookie("sp_ei_shown","true",a)}}jQuery(document).ready(function(){jQuery("#exit_intent_continue").click(function(){jQuery("#sp_exit_intent_overlay").fadeOut();if(document.cookie.indexOf("sp_ei_shown")<0){var a=parseInt(spEI.timeShowingMeasure)*parseInt(spEI.timeShowing)*60;setCookie("sp_ei_shown","true",a)}setTimeout(function(){jQuery("#sp_exit_intent_overlay").remove()},320);return false})});jQuery(document).ready(function(){jQuery("#sp_form_exit_intent").submit(function(){jQuery("#sp_form_exit_intent .exit_intent_submit").hide();jQuery("#exit_intent_error_message").hide();jQuery("#exit_intent_LoadGif").show();if(!spei_ajax_prog){spei_ajax_prog=true;jQuery.ajax({type:"POST",url:sp_ajaxurl,data:jQuery("#sp_form_exit_intent").serialize(),success:function(b){if(b.status){jQuery("#exit_intent_LoadGif").hide();jQuery("#exit_intent_error_message").hide();jQuery("#sp_exit_intent_form_content").hide();jQuery("#exit_intent_succes_message").html(spEI.successmsg);jQuery("#exit_intent_succes_message").show();jQuery("#exit_intent_continue").show()}else{if(b.message=="invalidEmail"){var a=spEI.invalidEmailMsg}else{var a=spEI.failmsg}jQuery("#exit_intent_LoadGif").hide();jQuery("#sp_form_exit_intent .exit_intent_submit").show();jQuery("#exit_intent_error_message").html(a);jQuery("#exit_intent_error_message").show()}spei_ajax_prog=false},error:function(){jQuery("#scrollBoxLoadGif").hide();jQuery("#sp_form_exit_intent .exit_intent_submit").show();jQuery("#exit_intent_error_message").html(spEI.failmsg);jQuery("#exit_intent_error_message").show();spei_ajax_prog=false}})}return false})});